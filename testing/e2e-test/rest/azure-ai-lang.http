# Cognitive Service for Language (REST API reference)
# Documentation: https://learn.microsoft.com/en-us/rest/api/language/?view=rest-language-2023-04-01

# @title Variables
@API_VERSION=2023-04-01
@TEXT_ANALYTICS_ENDPOINT={{AZURE_AI_SERVICE_ENDPOINT}}/language/:analyze-text?api-version={{API_VERSION}}


#########################################################
## Language Detection Request
#########################################################
# @title Language Detection Request
POST {{TEXT_ANALYTICS_ENDPOINT}}
Content-Type: application/json
Ocp-Apim-Subscription-Key:{{AZURE_AI_SERVICE_KEY}}

{
  "kind": "LanguageDetection",
  "parameters": {
    "modelVersion": "latest"
  },
  "analysisInput": {
    "documents": [
      {
        "id": "1",
        "text": "Hello world"
      },
      {
        "id": "2",
        "text": "Bonjour tout le monde"
      },
      {
        "id": "3",
        "text": "Hola mundo"
      }
    ]
  }
}

#########################################################
## Sentiment Analysis Request
#########################################################

# @title Sentiment Analysis Request
POST {{TEXT_ANALYTICS_ENDPOINT}}
Content-Type: application/json
Ocp-Apim-Subscription-Key:{{AZURE_AI_SERVICE_KEY}}

{
  "kind": "SentimentAnalysis",
  "parameters": {
    "modelVersion": "latest"
  },
  "analysisInput": {
    "documents": [
      {
        "id": "1",
        "language": "en",
        "text": "Great atmosphere. Close to plenty of restaurants, hotels, and transit! Staff are friendly and helpful."
      }
    ]
  }
}

#########################################################
## Key Phrase Extraction Request
#########################################################

# @title Key Phrase Extraction Request
POST {{TEXT_ANALYTICS_ENDPOINT}}
Content-Type: application/json
Ocp-Apim-Subscription-Key:{{AZURE_AI_SERVICE_KEY}}

{
  "kind": "KeyPhraseExtraction",
  "parameters": {
    "modelVersion": "latest"
  },
  "analysisInput": {
    "documents": [
      {
        "id": "1",
        "language": "en",
        "text": "Microsoft was founded by Bill Gates and Paul Allen."
      },
      {
        "id": "2",
        "language": "en",
        "text": "Text Analytics is one of the Azure Cognitive Services."
      },
      {
        "id": "3",
        "language": "en",
        "text": "My cat might need to see a veterinarian."
      }
    ]
  }
}

#########################################################
## Entity Linking Request
#########################################################

# @title Entity Linking Request
POST {{TEXT_ANALYTICS_ENDPOINT}}
Content-Type: application/json
Ocp-Apim-Subscription-Key:{{AZURE_AI_SERVICE_KEY}}

{
  "kind": "EntityLinking",
  "parameters": {
    "modelVersion": "latest"
  },
  "analysisInput": {
    "documents": [
      {
        "id": "1",
        "language": "en",
        "text": "Microsoft was founded by Bill Gates and Paul Allen."
      },
      {
        "id": "2",
        "language": "en",
        "text": "Pike place market is my favorite Seattle attraction."
      }
    ]
  }
}

#########################################################
## Entity Recognition Request
#########################################################

# @title Entity Recognition Request
POST {{TEXT_ANALYTICS_ENDPOINT}}
Content-Type: application/json
Ocp-Apim-Subscription-Key:{{AZURE_AI_SERVICE_KEY}}

{
  "kind": "EntityRecognition",
  "parameters": {
    "modelVersion": "latest"
  },
  "analysisInput": {
    "documents": [
      {
        "id": "1",
        "language": "en",
        "text": "Microsoft was founded by Bill Gates and Paul Allen."
      },
      {
        "id": "2",
        "language": "en",
        "text": "Pike place market is my favorite Seattle attraction."
      }
    ]
  }
}

#########################################################
## PII Entity Recognition Request
#########################################################

# @title PII Entity Recognition Request
POST {{TEXT_ANALYTICS_ENDPOINT}}
Content-Type: application/json
Ocp-Apim-Subscription-Key:{{AZURE_AI_SERVICE_KEY}}

{
  "kind": "PiiEntityRecognition",
  "parameters": {
    "modelVersion": "latest"
  },
  "analysisInput": {
    "documents": [
      {
        "id": "1",
        "language": "en",
        "text": "My SSN is 859-98-0987"
      },
      {
        "id": "2",
        "language": "en",
        "text": "Your ABA number - 111000025 - is the first 9 digits in the lower left hand corner of your personal check."
      },
      {
        "id": "3",
        "language": "en",
        "text": "Is 998.214.865-68 your Brazilian CPF number?"
      }
    ]
  }
}
